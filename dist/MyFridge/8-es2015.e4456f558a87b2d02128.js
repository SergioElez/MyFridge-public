(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3Wre":function(e,t,i){"use strict";i.r(t),i.d(t,"LoginModule",(function(){return R}));var c=i("ofXK"),s=i("tyNb"),n=i("mrSG"),r=i("fXoL"),o=i("ajt+"),a=i("OaWH"),b=i("3Pt+"),l=i("NFeN"),p=i("Wp6s");function d(e,t){1&e&&(r.Pb(0,"span"),r.rc(1,"Lista Creada"),r.Ob())}function u(e,t){1&e&&(r.Pb(0,"mat-icon"),r.rc(1,"clear"),r.Ob())}function h(e,t){1&e&&(r.Pb(0,"mat-icon"),r.rc(1,"cancel"),r.Ob())}function f(e,t){if(1&e){const e=r.Qb();r.Pb(0,"h2"),r.rc(1),r.ac(2,"titlecase"),r.Pb(3,"button",9),r.Wb("click",(function(){r.kc(e);const t=r.Zb().$implicit;return r.Zb().deleteList(t.title)})),r.qc(4,u,2,0,"mat-icon",3),r.qc(5,h,2,0,"mat-icon",3),r.Ob(),r.Ob()}if(2&e){const e=r.Zb().$implicit,t=r.Zb();r.Ab(1),r.tc("",r.bc(2,3,e.title)," "),r.Ab(3),r.ec("ngIf",!t.clickDeleteList),r.Ab(1),r.ec("ngIf",t.clickDeleteList)}}function m(e,t){1&e&&(r.Pb(0,"h2"),r.rc(1,"Favoritos"),r.Ob())}function g(e,t){1&e&&(r.Pb(0,"p"),r.rc(1,"No hay recetas"),r.Ob())}function L(e,t){if(1&e){const e=r.Qb();r.Pb(0,"span"),r.rc(1,"Quieres borrar esta lista? "),r.Pb(2,"button",9),r.Wb("click",(function(){return r.kc(e),r.Zb(2).cancelDeleteList()})),r.Pb(3,"mat-icon"),r.rc(4,"clear"),r.Ob(),r.Ob(),r.Pb(5,"button",9),r.Wb("click",(function(){return r.kc(e),r.Zb(2).acceptDeleteList()})),r.Pb(6,"mat-icon"),r.rc(7,"check"),r.Ob(),r.Ob(),r.Ob()}}function O(e,t){if(1&e){const e=r.Qb();r.Pb(0,"mat-card"),r.Pb(1,"a",11),r.Lb(2,"img",12),r.Ob(),r.Pb(3,"mat-card-content"),r.Pb(4,"h5"),r.rc(5),r.Ob(),r.Ob(),r.Pb(6,"mat-card-actions"),r.Pb(7,"a",13),r.Wb("click",(function(){r.kc(e);const i=t.$implicit,c=r.Zb(2).$implicit;return r.Zb().deleteRecipeFromList(c.title,i.idFirebase,i.idMeal)})),r.rc(8," Borrar de la lista"),r.Ob(),r.Ob(),r.Ob()}if(2&e){const e=t.$implicit;r.Ab(1),r.gc("routerLink","/recipe/",e.idMeal,""),r.Ab(1),r.fc("src",e.strMealThumb,r.lc),r.Ab(3),r.tc("",e.strMeal," ")}}function P(e,t){if(1&e&&(r.Pb(0,"div",10),r.qc(1,O,9,3,"mat-card",4),r.Ob()),2&e){const e=r.Zb().$implicit;r.Ab(1),r.ec("ngForOf",e.list)}}function w(e,t){1&e&&(r.Pb(0,"p",14),r.rc(1," No se han encontrado recetas. Busca otra vez. "),r.Ob())}function k(e,t){if(1&e&&(r.Pb(0,"div"),r.qc(1,f,6,5,"h2",3),r.qc(2,m,2,0,"h2",3),r.qc(3,g,2,0,"p",3),r.qc(4,L,8,0,"span",3),r.Pb(5,"div",5),r.Pb(6,"div",6),r.qc(7,P,2,1,"div",7),r.qc(8,w,2,0,"p",8),r.Ob(),r.Ob(),r.Ob()),2&e){const e=t.$implicit,i=r.Zb();r.Ab(1),r.ec("ngIf","favourites"!=e.title),r.Ab(1),r.ec("ngIf","favourites"==e.title),r.Ab(1),r.ec("ngIf",0==e.list.length),r.Ab(1),r.ec("ngIf",i.clickDeleteList&&i.listNameToDelete==e.title),r.Ab(3),r.ec("ngIf",e),r.Ab(1),r.ec("ngIf",0===e.length)}}const I=[{path:"",component:(()=>{class e{constructor(e,t,i){this.db=e,this.appService=t,this.router=i,this.recipeList=[],this.recipeListIds=[],this.recipeListFirebaseIds=[],this.newListName="",this.createdList=!1,this.clickDeleteList=!1}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){(yield this.appService.getRecipeAllListFromUser(this.db.getCurrentUserId())).subscribe(e=>{if(this.objectRecipe||window.location.reload(),this.objectRecipe&&this.objectRecipe.length>0)for(let t=0;t<this.objectRecipe.length;t++)if(e[t]&&!this.isDuplicate(e[t].nameList)){let i=[],c=e[t].nameList,s=[],n=e[t].list;console.log(c),console.log(n);let r=[];for(let e in n)r.push(e);for(let o=0;o<r.length;o++){let c=e[t].list["recipe-"+o];c&&(isNaN(c)?c&&c[0]&&(s.push(parseInt(c[0].idMeal)),c[0].idFirebase=r[o],i.push(c[0])):(s.push(c),this.appService.getRecipe(c).subscribe(e=>{e.meals&&(e.meals[0].idFirebase=r[o],i.push(e.meals[0]))})))}this.recipeList.push({title:c,list:i}),this.recipeListIds.push({title:c,list:s})}localStorage.setItem("userRecipeList",JSON.stringify(this.recipeListIds))}),(yield this.appService.getRecipeAllListFromUser(this.db.getCurrentUserId())).subscribe(e=>{this.objectRecipe=e})}))}isDuplicate(e){for(let t=0;t<this.recipeList.length;t++)if(this.recipeList[t].nameList==e||this.recipeList[t].title==e)return!0;return!1}deleteRecipeFromList(e,t,i){console.log(t),this.db.deleteRecipeFromCategory(t,i,e),window.location.reload()}createNewRecipeList(e){e.length>0&&(this.createdList=!0,console.log(this.createdList),this.db.createNewRecipeList(e),this.newListName="")}deleteList(e){console.log(e),this.clickDeleteList=!this.clickDeleteList,this.listNameToDelete=e}cancelDeleteList(){this.clickDeleteList=!1}acceptDeleteList(){this.db.deleteRecipeList(this.listNameToDelete),window.location.reload()}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(o.a),r.Kb(a.a),r.Kb(s.e))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-profile"]],decls:14,vars:4,consts:[[1,"container"],["type","text","placeholder","Lista de ejemplo",3,"ngModel","ngModelChange"],[2,"margin","0","padding","0.5em","border","0px",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"twelve","columns"],["id","grid",4,"ngIf"],["id","noRecipes",4,"ngIf"],[2,"border","0px","padding","5px",3,"click"],["id","grid"],["mat-raised-button","",3,"routerLink"],["mat-card-image","","alt","",3,"src"],["mat-raised-button","",3,"click"],["id","noRecipes"]],template:function(e,t){1&e&&(r.Pb(0,"div",0),r.Lb(1,"br"),r.Pb(2,"h5"),r.rc(3,"Crear listas de recetas"),r.Ob(),r.Pb(4,"input",1),r.Wb("ngModelChange",(function(e){return t.newListName=e})),r.Ob(),r.Pb(5,"button",2),r.Wb("click",(function(){return t.createNewRecipeList(t.newListName)})),r.Pb(6,"mat-icon"),r.rc(7,"library_add"),r.Ob(),r.Ob(),r.qc(8,d,2,0,"span",3),r.Lb(9,"br"),r.Lb(10,"br"),r.Pb(11,"h2"),r.rc(12),r.Ob(),r.qc(13,k,9,6,"div",4),r.Ob()),2&e&&(r.Ab(4),r.ec("ngModel",t.newListName),r.Ab(4),r.ec("ngIf",1==t.createdList),r.Ab(4),r.sc(t.newListName),r.Ab(1),r.ec("ngForOf",t.recipeList))},directives:[b.a,b.g,b.i,l.a,c.j,c.i,p.a,s.f,p.d,p.c,p.b],pipes:[c.o],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}"]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[s.g.forChild(I)],s.g]}),e})();var N=i("7of8"),A=i("kmnG");let R=(()=>{class e{}return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[c.b,v,N.a,A.a,b.k]]}),e})()}}]);