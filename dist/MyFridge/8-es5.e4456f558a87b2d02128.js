!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3Wre":function(i,c,n){"use strict";n.r(c),n.d(c,"LoginModule",(function(){return q}));var r=n("ofXK"),a=n("tyNb"),s=n("mrSG"),o=n("fXoL"),b=n("ajt+"),l=n("OaWH"),u=n("3Pt+"),p=n("NFeN"),f=n("Wp6s");function d(e,t){1&e&&(o.Pb(0,"span"),o.rc(1,"Lista Creada"),o.Ob())}function h(e,t){1&e&&(o.Pb(0,"mat-icon"),o.rc(1,"clear"),o.Ob())}function m(e,t){1&e&&(o.Pb(0,"mat-icon"),o.rc(1,"cancel"),o.Ob())}function g(e,t){if(1&e){var i=o.Qb();o.Pb(0,"h2"),o.rc(1),o.ac(2,"titlecase"),o.Pb(3,"button",9),o.Wb("click",(function(){o.kc(i);var e=o.Zb().$implicit;return o.Zb().deleteList(e.title)})),o.qc(4,h,2,0,"mat-icon",3),o.qc(5,m,2,0,"mat-icon",3),o.Ob(),o.Ob()}if(2&e){var c=o.Zb().$implicit,n=o.Zb();o.Ab(1),o.tc("",o.bc(2,3,c.title)," "),o.Ab(3),o.ec("ngIf",!n.clickDeleteList),o.Ab(1),o.ec("ngIf",n.clickDeleteList)}}function L(e,t){1&e&&(o.Pb(0,"h2"),o.rc(1,"Favoritos"),o.Ob())}function v(e,t){1&e&&(o.Pb(0,"p"),o.rc(1,"No hay recetas"),o.Ob())}function O(e,t){if(1&e){var i=o.Qb();o.Pb(0,"span"),o.rc(1,"Quieres borrar esta lista? "),o.Pb(2,"button",9),o.Wb("click",(function(){return o.kc(i),o.Zb(2).cancelDeleteList()})),o.Pb(3,"mat-icon"),o.rc(4,"clear"),o.Ob(),o.Ob(),o.Pb(5,"button",9),o.Wb("click",(function(){return o.kc(i),o.Zb(2).acceptDeleteList()})),o.Pb(6,"mat-icon"),o.rc(7,"check"),o.Ob(),o.Ob(),o.Ob()}}function k(e,t){if(1&e){var i=o.Qb();o.Pb(0,"mat-card"),o.Pb(1,"a",11),o.Lb(2,"img",12),o.Ob(),o.Pb(3,"mat-card-content"),o.Pb(4,"h5"),o.rc(5),o.Ob(),o.Ob(),o.Pb(6,"mat-card-actions"),o.Pb(7,"a",13),o.Wb("click",(function(){o.kc(i);var e=t.$implicit,c=o.Zb(2).$implicit;return o.Zb().deleteRecipeFromList(c.title,e.idFirebase,e.idMeal)})),o.rc(8," Borrar de la lista"),o.Ob(),o.Ob(),o.Ob()}if(2&e){var c=t.$implicit;o.Ab(1),o.gc("routerLink","/recipe/",c.idMeal,""),o.Ab(1),o.fc("src",c.strMealThumb,o.lc),o.Ab(3),o.tc("",c.strMeal," ")}}function w(e,t){if(1&e&&(o.Pb(0,"div",10),o.qc(1,k,9,3,"mat-card",4),o.Ob()),2&e){var i=o.Zb().$implicit;o.Ab(1),o.ec("ngForOf",i.list)}}function P(e,t){1&e&&(o.Pb(0,"p",14),o.rc(1," No se han encontrado recetas. Busca otra vez. "),o.Ob())}function y(e,t){if(1&e&&(o.Pb(0,"div"),o.qc(1,g,6,5,"h2",3),o.qc(2,L,2,0,"h2",3),o.qc(3,v,2,0,"p",3),o.qc(4,O,8,0,"span",3),o.Pb(5,"div",5),o.Pb(6,"div",6),o.qc(7,w,2,1,"div",7),o.qc(8,P,2,0,"p",8),o.Ob(),o.Ob(),o.Ob()),2&e){var i=t.$implicit,c=o.Zb();o.Ab(1),o.ec("ngIf","favourites"!=i.title),o.Ab(1),o.ec("ngIf","favourites"==i.title),o.Ab(1),o.ec("ngIf",0==i.list.length),o.Ab(1),o.ec("ngIf",c.clickDeleteList&&c.listNameToDelete==i.title),o.Ab(3),o.ec("ngIf",i),o.Ab(1),o.ec("ngIf",0===i.length)}}var I,N,R,A=[{path:"",component:(I=function(){function i(t,c,n){e(this,i),this.db=t,this.appService=c,this.router=n,this.recipeList=[],this.recipeListIds=[],this.recipeListFirebaseIds=[],this.newListName="",this.createdList=!1,this.clickDeleteList=!1}var c,n,r;return c=i,(n=[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appService.getRecipeAllListFromUser(this.db.getCurrentUserId());case 2:return e.sent.subscribe((function(e){if(t.objectRecipe||window.location.reload(),t.objectRecipe&&t.objectRecipe.length>0)for(var i=0;i<t.objectRecipe.length;i++)e[i]&&!t.isDuplicate(e[i].nameList)&&function(){var c=[],n=e[i].nameList,r=[],a=e[i].list;console.log(n),console.log(a);var s=[];for(var o in a)s.push(o);for(var b=function(n){var a=e[i].list["recipe-"+n];a&&(isNaN(a)?a&&a[0]&&(r.push(parseInt(a[0].idMeal)),a[0].idFirebase=s[n],c.push(a[0])):(r.push(a),t.appService.getRecipe(a).subscribe((function(e){e.meals&&(e.meals[0].idFirebase=s[n],c.push(e.meals[0]))}))))},l=0;l<s.length;l++)b(l);t.recipeList.push({title:n,list:c}),t.recipeListIds.push({title:n,list:r})}();localStorage.setItem("userRecipeList",JSON.stringify(t.recipeListIds))})),e.next=5,this.appService.getRecipeAllListFromUser(this.db.getCurrentUserId());case 5:e.sent.subscribe((function(e){t.objectRecipe=e}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"isDuplicate",value:function(e){for(var t=0;t<this.recipeList.length;t++)if(this.recipeList[t].nameList==e||this.recipeList[t].title==e)return!0;return!1}},{key:"deleteRecipeFromList",value:function(e,t,i){console.log(t),this.db.deleteRecipeFromCategory(t,i,e),window.location.reload()}},{key:"createNewRecipeList",value:function(e){e.length>0&&(this.createdList=!0,console.log(this.createdList),this.db.createNewRecipeList(e),this.newListName="")}},{key:"deleteList",value:function(e){console.log(e),this.clickDeleteList=!this.clickDeleteList,this.listNameToDelete=e}},{key:"cancelDeleteList",value:function(){this.clickDeleteList=!1}},{key:"acceptDeleteList",value:function(){this.db.deleteRecipeList(this.listNameToDelete),window.location.reload()}}])&&t(c.prototype,n),r&&t(c,r),i}(),I.\u0275fac=function(e){return new(e||I)(o.Kb(b.a),o.Kb(l.a),o.Kb(a.e))},I.\u0275cmp=o.Eb({type:I,selectors:[["app-profile"]],decls:14,vars:4,consts:[[1,"container"],["type","text","placeholder","Lista de ejemplo",3,"ngModel","ngModelChange"],[2,"margin","0","padding","0.5em","border","0px",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"twelve","columns"],["id","grid",4,"ngIf"],["id","noRecipes",4,"ngIf"],[2,"border","0px","padding","5px",3,"click"],["id","grid"],["mat-raised-button","",3,"routerLink"],["mat-card-image","","alt","",3,"src"],["mat-raised-button","",3,"click"],["id","noRecipes"]],template:function(e,t){1&e&&(o.Pb(0,"div",0),o.Lb(1,"br"),o.Pb(2,"h5"),o.rc(3,"Crear listas de recetas"),o.Ob(),o.Pb(4,"input",1),o.Wb("ngModelChange",(function(e){return t.newListName=e})),o.Ob(),o.Pb(5,"button",2),o.Wb("click",(function(){return t.createNewRecipeList(t.newListName)})),o.Pb(6,"mat-icon"),o.rc(7,"library_add"),o.Ob(),o.Ob(),o.qc(8,d,2,0,"span",3),o.Lb(9,"br"),o.Lb(10,"br"),o.Pb(11,"h2"),o.rc(12),o.Ob(),o.qc(13,y,9,6,"div",4),o.Ob()),2&e&&(o.Ab(4),o.ec("ngModel",t.newListName),o.Ab(4),o.ec("ngIf",1==t.createdList),o.Ab(4),o.sc(t.newListName),o.Ab(1),o.ec("ngForOf",t.recipeList))},directives:[u.a,u.g,u.i,p.a,r.j,r.i,f.a,a.f,f.d,f.c,f.b],pipes:[r.o],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}"]}),I)}],D=((N=function t(){e(this,t)}).\u0275mod=o.Ib({type:N}),N.\u0275inj=o.Hb({factory:function(e){return new(e||N)},imports:[[a.g.forChild(A)],a.g]}),N),F=n("7of8"),j=n("kmnG"),q=((R=function t(){e(this,t)}).\u0275mod=o.Ib({type:R}),R.\u0275inj=o.Hb({factory:function(e){return new(e||R)},imports:[[r.b,D,F.a,j.a,u.k]]}),R)}}])}();