!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{QfxN:function(t,r,n){"use strict";n.r(r),n.d(r,"RandomrecipeModule",(function(){return F}));var c=n("ofXK"),o=n("tyNb"),a=n("fXoL"),s=n("OaWH"),b=n("ajt+"),l=n("Tr4x"),u=n("3Pt+"),d=n("NFeN");function p(e,i){if(1&e&&a.Lb(0,"img",25),2&e){var t=a.Zb();a.fc("src",t.recipeThumb,a.lc)}}function g(e,i){if(1&e&&(a.Pb(0,"div"),a.rc(1),a.Pb(2,"mat-icon"),a.rc(3,"add"),a.Ob(),a.Ob()),2&e){var t=a.Zb().$implicit;a.Ab(1),a.tc(" ",t.title," ")}}function f(e,i){if(1&e){var t=a.Qb();a.Pb(0,"li",28),a.Wb("click",(function(){a.kc(t);var e=i.$implicit;return a.Zb(2).addThisRecipeToUserList(e.title)})),a.qc(1,g,4,1,"div",23),a.Ob()}if(2&e){var r=i.$implicit;a.Ab(1),a.ec("ngIf","favourites"!=r.title)}}function h(e,i){if(1&e&&(a.Pb(0,"div",26),a.Pb(1,"li"),a.rc(2,"A\xf1adir esta receta a una de tus listas:"),a.Ob(),a.qc(3,f,2,1,"li",27),a.Ob()),2&e){var t=a.Zb();a.Ab(3),a.ec("ngForOf",t.userLists)}}function m(e,i){if(1&e){var t=a.Qb();a.Pb(0,"button",29),a.Wb("click",(function(){return a.kc(t),a.Zb().clickAddRecipeToFavourite()})),a.Pb(1,"mat-icon"),a.rc(2,"favorite_border"),a.Ob(),a.Ob()}}function v(e,i){if(1&e){var t=a.Qb();a.Pb(0,"button",30),a.Wb("click",(function(){return a.kc(t),a.Zb().removeFromFavourites()})),a.Pb(1,"mat-icon"),a.rc(2,"favorite"),a.Ob(),a.Ob()}}function O(e,i){if(1&e){var t=a.Qb();a.Pb(0,"button",30),a.Wb("click",(function(){return a.kc(t),a.Zb().addToCategory()})),a.Pb(1,"mat-icon"),a.rc(2,"library_add"),a.Ob(),a.Ob()}}function P(e,i){if(1&e){var t=a.Qb();a.Pb(0,"button",30),a.Wb("click",(function(){return a.kc(t),a.Zb().addToCategory()})),a.Pb(1,"span"),a.rc(2,"Cancelar"),a.Ob(),a.Pb(3,"mat-icon"),a.rc(4,"cancel"),a.Ob(),a.Ob()}}function k(e,i){if(1&e&&(a.Pb(0,"li"),a.rc(1),a.ac(2,"titlecase"),a.Pb(3,"b"),a.rc(4),a.Ob(),a.Ob()),2&e){var t=i.$implicit,r=i.index,n=a.Zb();a.Ab(1),a.tc(" ",a.bc(2,3,t)," - "),a.Ab(3),a.uc(" ",n.recipeMeasures[r]*n.numberOfDiners," ",n.recipeMeasuresString[r]," ")}}function y(e,i){if(1&e&&(a.Pb(0,"a",31),a.rc(1,"Ver tutorial en YouTube"),a.Ob()),2&e){var t=a.Zb();a.fc("href",t.recipeYoutubeLink,a.lc)}}function I(e,i){if(1&e){var t=a.Qb();a.Pb(0,"div",32),a.Pb(1,"p",33),a.rc(2,"Comparte la receta con tus amigos:"),a.Ob(),a.Lb(3,"input",34),a.Pb(4,"button",35),a.Wb("click",(function(){return a.kc(t),a.Zb().share()})),a.Pb(5,"mat-icon"),a.rc(6,"file_copy"),a.Ob(),a.Ob(),a.Ob()}if(2&e){var r=a.Zb();a.Ab(3),a.fc("value",r.enlaceReceta)}}function A(e,i){if(1&e&&(a.Pb(0,"h5"),a.rc(1,"Tags: "),a.Pb(2,"em"),a.rc(3),a.Ob(),a.Ob()),2&e){var t=a.Zb();a.Ab(3),a.sc(t.recipeTags)}}var T,C,M,x=[{path:"",component:(T=function(){function t(i,r,n,c){e(this,t),this.route=i,this.appService=r,this.dbService=n,this.clipboard=c,this.recipeIngredients=[],this.recipeMeasures=[],this.recipeMeasuresString=[],this.isFavorited=!1,this.clickAddToCategory=!1,this.logued=!1,this.numberOfDiners=1}var r,n,c;return r=t,(n=[{key:"ngOnInit",value:function(){this.fetchRandomRecipe(),this.enlaceReceta=window.location.href,this.userLists=JSON.parse(localStorage.getItem("userRecipeList")),console.log(this.userLists),"true"===localStorage.getItem("logued")&&(this.logued=!0),"false"===localStorage.getItem("logued")&&(this.logued=!1)}},{key:"fetchRandomRecipe",value:function(){var e=this;this.recipeIngredients=[],this.recipeMeasures=[],this.appService.getRandomRecipe().subscribe((function(i){e.recipeID=(i=i.meals[0]).idMeal,e.recipeThumb=i.strMealThumb,e.recipeName=i.strMeal,e.recipeCategory=i.strCategory,e.recipeInstructions=i.strInstructions,e.recipeYoutubeLink=i.strYoutube,i.strTags&&(e.recipeTags=i.strTags.replaceAll(",",", "));for(var t=1;t<=20;t++){var r="strIngredient"+t,n="strMeasure"+t;if(i[r]&&i[n]){e.recipeIngredients.push(i[r]);var c=i[n].split(" ")[0];isNaN(parseInt(c))?c=1:(-1!=c.search("g")&&(c=i[n].split("g")[0]),-1!=c.search("tbs")&&(c=i[n].split("tbs")[0]),-1!=c.search("ml")&&(c=i[n].split("ml")[0]),-1!=c.search("l")&&(c=i[n].split("l")[0]),-1!=c.search("-")&&(c=i[n].split("-")[0]),-1!=c.search("rd")&&(c=i[n].split("rd")[0]),-1!=c.search("/")&&(c=parseInt(i[n].split("/")[0])/parseInt(i[n].split("/")[1])));for(var o="",a=1;a<i[n].split(" ").length;a++)o=o+i[n].split(" ")[a]+" ";console.log(c),console.log(o),e.recipeMeasures.push(c),e.recipeMeasuresString.push(o)}else i[r]&&e.recipeIngredients.push(i[r])}console.log(i),e.appService.setSpecificRecipe(i)})),this.isThisRecipeFavourite()&&(this.isFavorited=!0)}},{key:"isThisRecipeFavourite",value:function(){for(var e=JSON.parse(localStorage.getItem("userRecipeList")),i=0;i<e.length;i++)for(var t=0;t<e[i].list.length;t++)if(this.recipeID==e[i].list[t])return!0;return!1}},{key:"clickAddRecipeToFavourite",value:function(){this.isFavorited=!0,this.dbService.addRecipeToCategory(this.recipeID,"favourites")}},{key:"removeFromFavourites",value:function(){this.isFavorited=!1}},{key:"addToCategory",value:function(){this.clickAddToCategory=!this.clickAddToCategory}},{key:"share",value:function(){this.clipboard.copy(this.enlaceReceta)}},{key:"addThisRecipeToUserList",value:function(e){console.log(this.recipeID),this.dbService.addRecipeToCategory(this.recipeID,e)}}])&&i(r.prototype,n),c&&i(r,c),t}(),T.\u0275fac=function(e){return new(e||T)(a.Kb(o.a),a.Kb(s.a),a.Kb(b.a),a.Kb(l.a))},T.\u0275cmp=a.Eb({type:T,selectors:[["app-randomrecipe"]],decls:39,vars:15,consts:[["id","recipe",1,"d-flex","flex-row"],[1,"container"],["id","randomWrapper",1,"d-flex"],[1,"flex-40"],[1,"d-flex","flex-col","flex-60"],[1,"btnGroup"],["tabindex","0",1,"button","btnSearchRecipe",3,"routerLink"],[1,"row"],[1,"four","columns"],["id","randomMealImg",3,"src",4,"ngIf"],["id","categories",4,"ngIf"],[2,"text-align","center"],["style","float: right; border: 0px; padding: 0px",3,"click",4,"ngIf"],["style","float: right; border: 0px; padding: 5px",3,"click",4,"ngIf"],["id","mealMetadata",1,"eight","columns","mealMetadata"],[4,"ngFor","ngForOf"],[1,"columns"],["target","_blank",3,"href",4,"ngIf"],[2,"float","right"],[2,"margin","0.8em"],["type","number","size","1","value","1","min","1",2,"text-align","center","width","5em",3,"ngModel","ngModelChange"],["style","margin-top:2em",4,"ngIf"],[1,"twelve","columns"],[4,"ngIf"],["id","recipeInstructions"],["id","randomMealImg",3,"src"],["id","categories"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"float","right","border","0px","padding","0px",3,"click"],[2,"float","right","border","0px","padding","5px",3,"click"],["target","_blank",3,"href"],[2,"margin-top","2em"],[2,"margin","0"],["type","text","size","30",3,"value"],[2,"border","0px","padding","1em",3,"click"]],template:function(e,i){1&e&&(a.Pb(0,"section",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Lb(3,"div",3),a.Pb(4,"div",4),a.Pb(5,"div",5),a.Pb(6,"a",6),a.Pb(7,"span"),a.rc(8),a.Ob(),a.Ob(),a.Lb(9,"br"),a.Lb(10,"br"),a.Ob(),a.Ob(),a.Ob(),a.Pb(11,"div",7),a.Pb(12,"div",8),a.qc(13,p,1,1,"img",9),a.Ob(),a.qc(14,h,4,1,"div",10),a.Pb(15,"div"),a.Pb(16,"h4",11),a.rc(17),a.qc(18,m,3,0,"button",12),a.qc(19,v,3,0,"button",13),a.qc(20,O,3,0,"button",13),a.qc(21,P,5,0,"button",13),a.Ob(),a.Ob(),a.Pb(22,"div",14),a.Pb(23,"ul"),a.qc(24,k,5,5,"li",15),a.Ob(),a.Pb(25,"div",7),a.Pb(26,"div",16),a.qc(27,y,2,1,"a",17),a.Lb(28,"br"),a.Pb(29,"div",18),a.Pb(30,"span",19),a.rc(31,"Cantidad de comensales:"),a.Ob(),a.Pb(32,"input",20),a.Wb("ngModelChange",(function(e){return i.numberOfDiners=e})),a.Ob(),a.Ob(),a.qc(33,I,7,1,"div",21),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(34,"div",7),a.Pb(35,"div",22),a.qc(36,A,4,1,"h5",23),a.Pb(37,"p",24),a.rc(38),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.Ab(6),a.gc("routerLink","/category/",i.recipeCategory,""),a.Ab(2),a.tc("M\xe1s recetas de ",i.recipeCategory,""),a.Ab(5),a.ec("ngIf",!i.clickAddToCategory),a.Ab(1),a.ec("ngIf",i.clickAddToCategory),a.Ab(3),a.tc("",i.recipeName," "),a.Ab(1),a.ec("ngIf",!i.isFavorited&&i.logued),a.Ab(1),a.ec("ngIf",i.isFavorited&&i.logued),a.Ab(1),a.ec("ngIf",!i.clickAddToCategory&&i.logued),a.Ab(1),a.ec("ngIf",i.clickAddToCategory&&i.logued),a.Ab(3),a.ec("ngForOf",i.recipeIngredients),a.Ab(3),a.ec("ngIf",i.recipeYoutubeLink),a.Ab(5),a.ec("ngModel",i.numberOfDiners),a.Ab(1),a.ec("ngIf",i.logued),a.Ab(3),a.ec("ngIf",i.recipeTags),a.Ab(2),a.sc(i.recipeInstructions))},directives:[o.f,c.j,c.i,u.j,u.a,u.g,u.i,d.a],pipes:[c.o],styles:["#recipe[_ngcontent-%COMP%]{margin-top:30px}#mealImg[_ngcontent-%COMP%]{height:80%;width:80%}#mealMetadata[_ngcontent-%COMP%]{font-size:.9em}#mealInstructions[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0}.heading[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{border-radius:25%!important;margin:5%}#categories[_ngcontent-%COMP%]{text-align:center;display:inline!important;list-style:none}"]}),T)}],R=((M=function i(){e(this,i)}).\u0275mod=a.Ib({type:M}),M.\u0275inj=a.Hb({factory:function(e){return new(e||M)},imports:[[o.g.forChild(x)],o.g]}),M),F=((C=function i(){e(this,i)}).\u0275mod=a.Ib({type:C}),C.\u0275inj=a.Hb({factory:function(e){return new(e||C)},imports:[[u.f,d.b,c.b,R]]}),C)}}])}();